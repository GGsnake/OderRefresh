<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.neo.dao.PddOderDao">
    <select id="selectByName" resultType="com.neo.jsonbean.PddOderBean">
		select * from oder where  loginName= #{username}
	</select>
    <!--<insert id="createUser" parameterType="User"-->
    <!--useGeneratedKeys="true" keyProperty="id">-->
    <!--insert into hot_user(userPhone,loginPwd)-->
    <!--values(#{user.userPhone},#{user.loginPwd})-->
    <!--</insert>-->
    <!--<select id="selectByPhone" resultType="com.superman.superman.model.User">-->
    <!--select * from hot_user where  userPhone= #{userPhone}-->
    <!--</select>-->
    <!--<insert id="createUser">-->
		<!--insert into oder(order_sn,goods_id,goods_name,goods_thumbnail_url,goods_quantity,goods_price,order_amount-->
		<!--,p_id,promotion_rate,promotion_amount,order_status,order_status_desc,order_create_time-->
		<!--,order_pay_time,order_group_success_time,order_verify_time,order_modify_at-->
		<!--,createTime,updateTime) value (#{oder.order_sn},#{oder.goods_id},now())-->
	<!--</insert>-->
    <insert id="addOder" parameterType="com.neo.jsonbean.PddOderBean">
        REPLACE into oder
        <trim prefix="(" suffix=")" suffixOverrides=",">
            order_sn,goods_id,goods_name,goods_thumbnail_url,
            goods_quantity, goods_price,
            order_amount,p_id,promotion_rate,promotion_amount,
            order_status,order_status_desc,order_create_time
            ,order_modify_at,updateTime,
            <if test="oder.order_pay_time != null">
                order_pay_time,
            </if>
            <if test="oder.order_group_success_time != null">
                order_group_success_time,
            </if>
            <if test="oder.order_verify_time != null">
                order_verify_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{oder.order_sn},#{oder.goods_id},#{oder.goods_name},#{oder.goods_thumbnail_url},
            #{oder.goods_quantity},#{oder.goods_price}
            ,#{oder.order_amount},#{oder.p_id},#{oder.promotion_rate},#{oder.promotion_amount}
            ,#{oder.order_status},#{oder.order_status_desc},#{oder.order_create_time},
            #{oder.order_modify_at},now(),
            <if test="oder.order_pay_time != null">
                #{oder.order_pay_time} ,
            </if>
            <if test="oder.order_group_success_time != null">
                #{oder.order_group_success_time},
            </if>
            <if test="oder.order_verify_time != null">
                #{oder.order_verify_time},
            </if>
        </trim>
    </insert>

    <!--<update id="updateUser">-->
    <!--update hot_user-->
    <!--<set>-->
    <!--<if test="user.userName != null">userName=#{user.userName},</if>-->
    <!--<if test="user.loginPwd != null">loginPwd=#{user.loginPwd},</if>-->
    <!--<if test="user.userScore != null">userScore=#{user.userScore},</if>-->
    <!--</set>-->
    <!--where id=#{user.id}-->
    <!--</update>-->


    <!--<update id="updateUserScore">-->
    <!--update hot_user set userScore=userScore+ #{user.userScore}	where id=#{user.id}-->
    <!--</update>-->
</mapper>